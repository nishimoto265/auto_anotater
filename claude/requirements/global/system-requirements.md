# オートアノテーションアプリ システム要件

## 1. 機能要件

### 1.1 基本機能
- **動画処理**: mp4, avi形式動画の読み込み（4K解像度対応）
- **フレーム変換**: 30fps → 5fps自動変換
- **画像出力**: jpg形式でフレーム保存
- **アノテーション**: txt形式でYOLO座標保存

### 1.2 UI機能
- **フレーム表示**: 高速切り替え（50ms以下）
- **BB操作**: 作成、編集、削除、ID/行動変更
- **追跡機能**: 自動追跡アルゴリズム
- **コピー機能**: 個別BBの複数フレームコピー
- **ジャンプ機能**: BB変化フレーム検知・移動

### 1.3 データ管理
- **自動保存**: リアルタイム保存
- **復旧機能**: 途中からの作業再開
- **履歴管理**: 操作取り消し（Ctrl+Z）

## 2. 非機能要件

### 2.1 パフォーマンス
- **フレーム切り替え**: 50ms以下
- **画像表示**: 100ms以下
- **BB描画更新**: 16ms以下（60fps）
- **アプリ起動**: 3秒以下

### 2.2 リソース管理
- **メモリ使用**: 64GB環境で20GB上限
- **キャッシュ**: 前後100フレーム先読み
- **画像サイズ**: 表示用1/2リサイズ

### 2.3 ユーザビリティ
- **UI応答性**: 全操作100ms以内
- **白黒モダンデザイン**: 視認性重視
- **ショートカット**: 主要操作のキーボード対応

## 3. 技術要件

### 3.1 開発環境
- **プラットフォーム**: ローカルPC（Windows/Linux）
- **Python**: 3.8以上
- **メモリ**: 64GB推奨

### 3.2 ライブラリ
- **フロントエンド**: PyQt6/PySide6
- **画像処理**: OpenCV, Pillow
- **数値計算**: NumPy
- **追跡**: 独自実装
- **将来拡張**: YOLO対応

### 3.3 データ形式
- **入力**: mp4, avi動画
- **出力画像**: jpg (6桁連番: 000000.jpg～)
- **アノテーション**: txt (個体ID, YOLO座標4つ, 行動ID, 信頼度)

## 4. 拡張性要件

### 4.1 将来対応
- **自動アノテーション**: YOLOモデル統合
- **複数モデル**: モデル切り替え機能
- **プラグイン**: カスタム追跡アルゴリズム
- **エクスポート**: 他形式変換

### 4.2 設定管理
- **設定ファイル**: JSON形式
- **カスタマイズ**: 個体ID数、行動ID、色設定
- **環境設定**: キャッシュサイズ、コピーフレーム数